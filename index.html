<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Santa Says - The Doom Edition üéÖ</title>
    <link rel="stylesheet" href="css/styles.css">
    <!-- Google Font for festive feel -->
    <link href="https://fonts.googleapis.com/css2?family=Mountains+of+Christmas:wght@400;700&family=Press+Start+2P&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Start Screen -->
    <div id="start-screen" class="screen">
        <div class="start-content">
            <h1 class="game-title">üéÖ SANTA SAYS üéÖ</h1>
            <h2 class="subtitle">THE DOOM EDITION</h2>
            <div class="instructions">
                <p>Navigate the Christmas corridors!</p>
                <p>Only move when <span class="highlight">SANTA SAYS</span>!</p>
                <p>7 correct moves to reach Santa's Sack!</p>
                <p class="warning">‚ö†Ô∏è Wrong moves trigger TRAPS! ‚ö†Ô∏è</p>
            </div>
            <button id="start-btn" class="start-button">START GAME</button>
            <div class="controls-hint">
                <p>Use Arrow Keys or Click the Compass</p>
            </div>
        </div>
    </div>

    <!-- Game Screen -->
    <div id="game-screen" class="screen hidden">
        <!-- Main Game View (Doom-style 3D) -->
        <div id="game-viewport">
            <canvas id="game-canvas"></canvas>
            
            <!-- Progress indicator -->
            <div id="progress-bar">
                <div class="progress-label">Progress to Santa's Sack:</div>
                <div class="progress-steps">
                    <span class="step" data-step="1">1</span>
                    <span class="step" data-step="2">2</span>
                    <span class="step" data-step="3">3</span>
                    <span class="step" data-step="4">4</span>
                    <span class="step" data-step="5">5</span>
                    <span class="step" data-step="6">6</span>
                    <span class="step" data-step="7">üéÅ</span>
                </div>
            </div>
        </div>

        <!-- Santa Panel (Right Side) -->
        <div id="santa-panel">
            <!-- Santa's Portrait -->
            <div id="santa-portrait">
                <div id="santa-face">
                    <!-- Santa SVG will be drawn here -->
                </div>
                <div id="speech-bubble" class="hidden">
                    <p id="santa-command"></p>
                </div>
            </div>

            <!-- Hourglass Timer -->
            <div id="timer-section">
                <div class="timer-label">TIME REMAINING</div>
                <div id="hourglass">
                    <svg viewBox="0 0 100 150" class="hourglass-svg">
                        <!-- Hourglass frame -->
                        <path class="hourglass-frame" d="M15,10 L85,10 L85,20 L55,70 L55,80 L85,130 L85,140 L15,140 L15,130 L45,80 L45,70 L15,20 Z" 
                              fill="none" stroke="#8B4513" stroke-width="4"/>
                        <!-- Top sand -->
                        <path id="sand-top" class="sand" d="M20,20 L80,20 L55,65 L45,65 Z"/>
                        <!-- Bottom sand -->
                        <path id="sand-bottom" class="sand" d="M45,85 L55,85 L80,130 L20,130 Z"/>
                        <!-- Falling sand stream -->
                        <rect id="sand-stream" class="sand-stream" x="48" y="70" width="4" height="15"/>
                        <!-- Decorative caps -->
                        <rect class="hourglass-cap" x="10" y="5" width="80" height="10" rx="2"/>
                        <rect class="hourglass-cap" x="10" y="135" width="80" height="10" rx="2"/>
                    </svg>
                </div>
                <div id="timer-display">1:00</div>
            </div>

            <!-- Compass Controls -->
            <div id="compass-controls">
                <div class="compass-label">CONTROLS</div>
                <div class="compass">
                    <button class="compass-btn" id="btn-up" data-direction="forward">
                        <span class="arrow">‚ñ≤</span>
                        <span class="label">FWD</span>
                    </button>
                    <div class="compass-middle">
                        <button class="compass-btn" id="btn-left" data-direction="left">
                            <span class="arrow">‚óÑ</span>
                            <span class="label">L</span>
                        </button>
                        <div class="compass-center">üß≠</div>
                        <button class="compass-btn" id="btn-right" data-direction="right">
                            <span class="arrow">‚ñ∫</span>
                            <span class="label">R</span>
                        </button>
                    </div>
                    <button class="compass-btn" id="btn-down" data-direction="backward">
                        <span class="arrow">‚ñº</span>
                        <span class="label">BACK</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Trap Overlay (for when player loses) -->
    <div id="trap-overlay" class="overlay hidden">
        <div id="trap-content">
            <div id="trap-animation"></div>
            <h2 id="trap-message"></h2>
        </div>
    </div>

    <!-- Win Screen -->
    <div id="win-screen" class="screen hidden">
        <div class="win-content">
            <h1>üéÑ YOU MADE IT! üéÑ</h1>
            <div id="sack-animation">
                <div class="sack">üéÖ</div>
            </div>
            <p class="win-text">Santa's Sack reveals your reward...</p>
            <div id="win-code">
                <span class="code-digit">0</span>
                <span class="code-digit">3</span>
                <span class="code-digit">2</span>
                <span class="code-digit">6</span>
            </div>
            <p class="code-hint">Use this code for your next adventure!</p>
            <button id="play-again-btn" class="start-button">PLAY AGAIN</button>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/raycaster.js"></script>
    <script src="js/santa.js"></script>
    <script src="js/game.js"></script>
</body>
</html>

